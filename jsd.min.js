$.jsd=function(e,t,n){var s={menu:e},i=$(t.delegateTarget);i.ev={on:function(e,t){return this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t),i},off:function(e,t){return this._events=this._events||{},e in this._events!=!1?(this._events[e].splice(this._events[e].indexOf(t),1),i):void 0},trigger:function(e){if(i.trigger(e),this._events=this._events||{},e in this._events!=!1)for(var t=0;this._events[e].length>t;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},n===void 0&&(n='{{#menu}}<div class="jsd-item"><div class="jsd-title"><a class="jsd-link" href="{{{href}}}">{{{title}}}</a></div></div>{{/menu}}'),n='<div class="jsd-container">'+n+"</div>",$(".jsd-container").remove();var o=t.pageX-10,d=$($.mustache(n,s)).css({left:o,top:t.pageY-10,position:"absolute",display:"none"}).appendTo(document.body);return d.width()+o>$(document.body).width()&&d.css({left:$(document.body).width()-d.width()-10}),d.slideDown(function(){i.ev.trigger("jsd-open");var e=$.mobile===void 0?"click":"vclick",t=function(){$(document).off(e,t),$(".jsd-container").fadeOut(function(){i.ev.trigger("jsd-close")})};$(".jsd-container").mouseleave(function(){t()}),$(".jsd-container").on(e,function(e){e.stopPropagation()}),$(document).on(e,t)}),i};